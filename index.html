<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Visualize DNA Sequences</title>

	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<!-- For convenient offline development: uncomment, comment out again before release. -->
	<!-- <link rel="stylesheet" href="css/bootstrap.min.css"> -->
</head>
<body>
	<!-- Settings -->
	<div class="container mt-5">
		<div class="row">
			<div class="col">
				<h1>Visualizing DNA sequences via Javascript</h1>
				<p class="text-muted">Need help? Explanation at the bottom! <a href="#explanation">Click&nbsp;to&nbsp;here&nbsp;scroll.</a></p>
			</div>
		</div>

		<hr>
		
		<div class="row">
			<div class="col">
				<h5 class="text-left mb-3">Base-Config:</h5>
			</div>
		</div>
		<div class="row text-center">
			<div class="col-sm-4 col-lg-2 offset-lg-1 col-6">
				<label for="a-dir"><b>A</b>=</label>
				<select id="a-dir" class="form-control">
					<option value="N" selected>UP</option>
					<option value="S">DOWN</option>
					<option value="W">LEFT</option>
					<option value="E">RIGHT</option>
					<option value="NW">UP+LEFT</option>
					<option value="NE">UP+RIGHT</option>
					<option value="SW">DOWN-LEFT</option>
					<option value="SE">DOWN+RIGHT</option>
				</select>
				<input id="a-col" type="color" value="#FF0000" class="mt-3 form-control color-picker">
			</div>

			<div class="col-sm-4 col-lg-2 col-6 mt-2">
				<label for="t-dir"><b>T</b>=</label>
				<select id="t-dir" class="form-control">
					<option value="N">UP</option>
					<option value="S" selected>DOWN</option>
					<option value="W">LEFT</option>
					<option value="E">RIGHT</option>
					<option value="NW">UP+LEFT</option>
					<option value="NE">UP+RIGHT</option>
					<option value="SW">DOWN-LEFT</option>
					<option value="SE">DOWN+RIGHT</option>
				</select>
				<input id="t-col" type="color" value="#00FF00" class="mt-3 form-control color-picker">
			</div>
			
			<div class="col-sm-4 col-lg-2 col-6 mt-2">
				<label for="g-dir"><b>G</b>=</label>
				<select id="g-dir" class="form-control">
					<option value="N">UP</option>
					<option value="S">DOWN</option>
					<option value="W">LEFT</option>
					<option value="E" selected>RIGHT</option>	
					<option value="NW">UP+LEFT</option>
					<option value="NE">UP+RIGHT</option>
					<option value="SW">DOWN-LEFT</option>
					<option value="SE">DOWN+RIGHT</option>
				</select>
				<input id="g-col" type="color" value="#0000FF" class="mt-3 form-control color-picker">
			</div>
			
			<div class="col-sm-4 col-lg-2 col-6 mt-2">
				<label for="c-dir"><b>C</b>=</label>
				<select id="c-dir" class="form-control">
					<option value="N">UP</option>
					<option value="S">DOWN</option>
					<option value="W" selected>LEFT</option>
					<option value="E">RIGHT</option>
					<option value="NW">UP+LEFT</option>
					<option value="NE">UP+RIGHT</option>
					<option value="SW">DOWN+LEFT</option>
					<option value="SE">DOWN+RIGHT</option>
				</select>
				<input id="c-col" type="color" value="#FFFF00" class="mt-3 form-control color-picker">
			</div>
			
			<div class="col-sm-4 col-lg-2 col-6 offset-6 offset-sm-0 mt-2">
				<label for="x-dir"><b>UNKNOWN</b>=</label>
				<select id="x-dir" class="form-control">
					<!-- <option value="RANDOM">RANDOM</option> -->
					<option value="STOP" selected>DONT MOVE</option>
					<option value="N">UP</option>
					<option value="S">DOWN</option>
					<option value="W">LEFT</option>
					<option value="E">RIGHT</option>
					<option value="NW">UP+LEFT</option>
					<option value="NE">UP+RIGHT</option>
					<option value="SW">DOWN+LEFT</option>
					<option value="SE">DOWN+RIGHT</option>
				</select>		
				<input id="x-col" type="color" class="mt-3 form-control color-picker">
			</div>
		</div>
		
		<hr>
		
		<div class="row mt-3">
			<div class="col">
				<h5 class="text-left mb-3">Data-Config:</h5>
			</div>
		</div>

		<div class="row text-right">
			<div class="col-sm-4">
				<label id="label-file" for="file" class="btn btn-info w-75">
					<b>Open FASTA File</b> <input type="file" accept=".fa, .mpfa, .fna, .fsa, .fasta, .txt" id="file" hidden>
				</label>
				<label for="offset" class="w-75">
					<b class="d-inline-block mr-3" data-toggle="tooltip" title="For large sequences it could be necessary to only draw X point for performance reasons.">
						Resolution<sup><u>?</u></sup>
					</b> 
					<input type="number" min="1" max="4194300" id="offset" class="form-control d-inline-block w-50" placeholder="Draw every X point" value="5">
				</label>
			</div>
			
			<div class="col-sm-2">
				<label for="size">
					<b class="d-inline-block" data-toggle="tooltip" title="Size of the dots in pixels. Could be useful to increase the size for smaller sequences and decrease for larger ones.">
						Size<sup><u>?</u></sup>
					</b> 
					<input type="number" min="1" id="size" class="form-control d-inline-block" value="4">
				</label>
			</div>

			<div class="col-sm-2">
				<div class="text-left material-switch">
					<b class="mr-3" data-toggle="tooltip" title="Disabling color will reduce the memory footprint.">Color<sup><u>?</u></sup></b>
					<input id="color" type="checkbox" checked/>
					<label for="color" class=""></label>
				</div>
			</div>

			<div class="col-sm-2">
				<label for="chunksize">
					<b class="d-inline-block" data-toggle="tooltip" title="Larger files will get split into multiple parts, this sets the size of those parts IN MEGABYTES(!). When reading huge files, increasing the chunksize will result in better performance. If you go too high though, the browser tab might crash!">
						Chunksize<sup><u>?</u></sup>
					</b> 
					<input type="number" min="1" id="chunksize" class="form-control d-inline-block" value="4">
				</label>		
			</div>
		</div>

		<hr>

		<button class="btn btn-primary w-100 py-3" id="btn-start">
			<b>DRAW</b>
		</button>
		
		<hr>

		<div class="row">
			<div class="col">
				<h5 class="text-left">Result:</h5>
			</div>
		</div>

		<div class="text-center">
			<p id="progress-text" class="text-right">Progress: <span class="text-info">0%</span></p>
			<div id="progress-bg" class="w-100"><div id="progress-bar"></div></div>
		</div>
		
	</div>
	
	<div class="row container-fluid text-center">
		<div id="plot" class="w-100">
			<p id="unplotted-text" class="text-muted my-5">
				&gt;&gt;&gt; Sequence is going to appear here. &lt;&lt;&lt;
			</p>
		</div>
	</div>
	
	<div class="container">
	
		<hr>
		
		<div class="row my-5">
			<div class="col">
				<h3 id="explanation">Explanation:</h3>
				<p>You can find a demo <a href="/demo.html">here</a>.</p>
				<p>Play around with the settings and create something brand new.</p>
				<p>If you want to use something created with this, I'd <b>absolutely LOVE(!)</b> to hear about it. Please send me a tweet on <a href="https://www.twitter.com/DanielBiegler" target="_blank">Twitter</a> or reach me privately via Mail: <b>biegler.dan @gmail.com</b></p>
				<p>You can find the source code <a href="https://github.com/DanielBiegler/visualize-dna-sequences">here</a>.</p>
		
				<h3 class="mt-4">Tips:</h3>
				<ul>
					<li>The sequence input is <b>case insensitive</b>.</li>
					<li>You can click on the color-boxes in the settings section to change them! After that, redraw the image with the <a href="#btn-start">draw-button</a>.</li>
					<li>You can find a couple of DNA sequences <a href="https://github.com/DanielBiegler/visualize-dna-sequences/tree/master/sequences/viruses">here</a>.</li>
				</ul>

			</div>
		</div>
	</div>

	<footer class="container my-5 text-right text-sm-center">
		<hr>
		<div class="row">
			<div class="col-12 col-sm-2 my-1">
				<p class="text-muted">v2.0.0</p>
			</div>
			<div class="col-12 col-sm-2 my-1">
				<p><a href="https://github.com/DanielBiegler/visualize-dna-sequences">Source</a></p>
			</div>
			<div class="col-12 col-sm-2 my-1">
				<p><a href="https://www.danielbiegler.de/">Author</a></p>
			</div>
		</div>
	</footer>

	<!-- Scripts -->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
	<script src="main.js"></script>
	<!-- For convenient offline development: uncomment, comment out again before release. -->
	<!-- <script src="js/bootstrap.min.js"></script> -->
	<!-- The gl2d partial bundle contains trace modules scatter, scattergl, splom, pointcloud, heatmapgl, contourgl and parcoords. -->
	<!-- <script src="js/plotly-gl2d-1.41.2.min.js"></script> --> 
	<!-- <script src="js/plotly-1.41.2.min.js"></script> -->
</body>
</html>
